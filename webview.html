<!Doctype html>
<html>
  <head>
    <title>
      <h5>Welcome to my Demo Website with Clevertap<>Rudderstack SDK</h5>
      </title>
  <script>
 var rudderanalytics = window.rudderanalytics = [];
  var methods = [
    "load",
    "page",
    "track",
    "identify",
    "alias",
    "group",
    "ready",
    "reset",
    "getAnonymousId",
    "setAnonymousId",
    "getUserId",
    "getUserTraits",
    "getGroupId",
    "getGroupTraits",
    "startSession",
    "endSession",
    "getSessionId"
  ];
  for (var i = 0; i < methods.length; i++) {
    var method = methods[i];
    rudderanalytics[method] = (function (methodName) {
      return function () {
        rudderanalytics.push(
          [methodName].concat(Array.prototype.slice.call(arguments))
        );
      };
    })(method);
  }

  rudderanalytics.load("2dMGXbKtHJSyT3l0rnMK06t88Gm", "https://clevertapvkdnk.dataplane.rudderstack.com", {logLevel: 'DEBUG'});
  rudderanalytics.page();
</script>
<script src="https://cdn.rudderlabs.com/v1.1/rudder-analytics.min.js"></script> 
  </head>
  <body>
    <script>
      function profilePush() {
        if (window.AndroidJSInterface) {
          // Call Android interface 
          
          

          window.alert("Webview profile uploaded successfully");
        } else {
          //Web profile Push

window.rudderanalytics.identify(
  "RudderWebsite001", {
    firstName: "Rudder",
    lastName: "Website",
    email: "Rudderwebsite@gmail.com",
    phone: "+919005555555"
  }, {
    page: {
      path: "/webview.html",
      title: "RudderStack"
    }
  },
  () => {
    console.log("identify call");
  }
);
      window.alert("Web profile uploaded successfully");
        }
      }

      function pushEvent() {
        //Webview event in Android
        if (window.AndroidJSInterface) {
          window.AndroidInterface.sendEventToRudderStack('RudderWebviewEvent',{"Action":"Success"});
          window.alert("Webview Event Raised")
        } 
        else {
window.rudderanalytics.track(
  "RudderWebsiteEvent", {
    status: "Success"
  },
  () => {
    console.log("track call");
  }
);
          window.alert("Web Event Raised")
        }
      }
    </script>
    <p>RudderStack CleverTap Integration</p>
   <button type="button" name="Push Profile" onclick="profilePush()">Click here to Push a CT Profile</button><br><br>
   <button type="button" name="Push Event" onclick="pushEvent()">Click here to Push a Rudderstack Event</button><br><br>
  </body>
</html>
